<div class="layout-container">
    <!-- <aside class="sidebar">
        <nav class="sidebar-nav">
        <img src="assets/Logo.png" alt="logo" class="logo">
            <div class="nav-buttons">
                <ul class="b-list">

                </ul>
            </div>
        </nav>
    </aside> -->
    <main class="main-content">
<header class="cashier-header">
     <div class="header-info">
    <h1>Products</h1>
    <div id="live-clock" class="datetime-display"></div>
    </div>    
    <a href="cashier.php" class="goback-link">Go back</a>
</header>
<div class="username-container">
    <p class="username-text">Welcome, <?php echo htmlspecialchars($user_data['user_name']); ?>!</p>
</div>
<br>

<p>ID Number: <?php echo $target_id ?></p>
<br>

<form method="post" id="orderForm">
    <div class="prodcontainers">
        <?php foreach ($products as $product): ?>
            <div class="card">
                <div class="imgcont">
                    <img src="https://placehold.co/150x80" alt="Product Image" class="product-image">
                </div>
                <div class="textcont">
                    <p class="text"><?php echo htmlspecialchars($product['prod_name']); ?></p>
                    <p class="text"><?php echo htmlspecialchars($product['category_name']); ?></p>
                    <p class="text"><?php echo htmlspecialchars($product['points']); ?> Points</p>
                </div>
                <div class="btn-container">
                    <button type="button" class="minus-btn" 
                            data-id="<?php echo $product['id']; ?>" 
                            data-name="<?php echo htmlspecialchars($product['prod_name']); ?>"
                            data-points="<?php echo $product['points']; ?>">-</button>
                    <button type="button" class="plus-btn" 
                            data-id="<?php echo $product['id']; ?>" 
                            data-name="<?php echo htmlspecialchars($product['prod_name']); ?>"
                            data-points="<?php echo $product['points']; ?>">+</button>
                </div>
            </div>
        <?php endforeach; ?>
    </div>

    <div class="addedOrders"></div>

    <div class="prodcontainers">
        <h3 id="totalPoints">Total points: 0</h3>
    </div>
    <input type="hidden" name="order_data" id="orderData">
    <div class="prodcontainers">
        <input type="submit" value="Submit Order" class="btn">
    </div>
</form>
<script>
function updateClock() {
    const now = new Date();
    const options = { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric', 
        hour: '2-digit', 
        minute: '2-digit', 
        second: '2-digit' 
    };
    document.getElementById('live-clock').textContent = now.toLocaleDateString('en-US', options);
}

// Update immediately and then every second
updateClock();
setInterval(updateClock, 1000);
</script>
</main>
</div>